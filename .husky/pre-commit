echo "🔍 Running pre-commit checks..."

# 1. Format check (fast)
echo "📝 Checking code formatting..."
pnpm prettier --check "**/*.{ts,tsx,md,json}" || {
  echo "❌ Formatting issues found!"
  echo "💡 Run 'pnpm format' to auto-fix formatting"
  exit 1
}

# 2. Lint check (fast)
echo "🔎 Running linter..."
pnpm lint || {
  echo "❌ Linting errors found!"
  echo "💡 Please fix linting errors before committing"
  exit 1
}

# 3. TypeScript check (medium speed)
echo "📘 Checking TypeScript types..."
pnpm check-types || {
  echo "❌ TypeScript errors found!"
  echo "💡 Please fix type errors before committing"
  exit 1
}

echo "✅ All pre-commit checks passed!"
echo "💡 Note: Tests will run in CI. Run 'pnpm test' locally to test."